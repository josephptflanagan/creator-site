{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jflanagan.NIECE\\\\Desktop\\\\other\\\\creator-site\\\\client\\\\src\\\\pages\\\\Login\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/react-hooks';\nimport { LOGIN } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Login.css';\n\nconst Login = () => {\n  const [formState, setFormState] = useState({\n    email: '',\n    password: ''\n  });\n  const [login, {\n    error\n  }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const mutationResponse = await login({\n        variables: {\n          email: formState.email,\n          password: formState.password\n        }\n      });\n      const token = mutationResponse.data.login.token;\n      const creatorId = mutationResponse.data.login.creator._id; // store creator id in LS also so we have it available as param and filter for dashboard\n\n      Auth.login(creatorId, token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"Login vh-100 d-flex flex-column align-items-center mt-5 pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"Login-form\",\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Login-email-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    name: \"email\",\n    type: \"email\",\n    value: formState.email,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Login-password-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    name: \"password\",\n    type: \"password\",\n    value: formState.password,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Login-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"bskr-btn-purple mr-3 mb-3\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Don't have an account?\", ' ', /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }\n  }, ' ', /*#__PURE__*/React.createElement(\"span\", {\n    className: \"signup-link-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Sign Up\")))), error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 8\n    }\n  }, \"Sorry, incorrect credentials\")) : null)));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/jflanagan.NIECE/Desktop/other/creator-site/client/src/pages/Login/Login.js"],"names":["React","useState","Link","useMutation","LOGIN","Auth","Form","Button","Login","formState","setFormState","email","password","login","error","handleFormSubmit","e","preventDefault","mutationResponse","variables","token","data","creatorId","creator","_id","console","log","handleChange","event","name","value","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/react-hooks'\r\n\r\nimport { LOGIN } from '../../utils/mutations'\r\nimport Auth from '../../utils/auth'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport './Login.css'\r\n\r\nconst Login = () => {\r\n\tconst [ formState, setFormState ] = useState({ email: '', password: '' })\r\n\tconst [ login, { error } ] = useMutation(LOGIN)\r\n\r\n\tconst handleFormSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst mutationResponse = await login({\r\n\t\t\t\tvariables : { email: formState.email, password: formState.password }\r\n\t\t\t})\r\n\t\t\tconst token = mutationResponse.data.login.token\r\n\t\t\tconst creatorId = mutationResponse.data.login.creator._id\r\n\t\t\t// store creator id in LS also so we have it available as param and filter for dashboard\r\n\t\t\tAuth.login(creatorId, token)\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst { name, value } = event.target\r\n\t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[name] : value\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<main className='Login vh-100 d-flex flex-column align-items-center mt-5 pt-5'>\r\n\t\t\t\t<h3 className='mb-5'>Login</h3>\r\n\t\t\t\t<Form className='Login-form' onSubmit={handleFormSubmit}>\r\n\t\t\t\t\t<Form.Group controlId='Login-email-input'>\r\n\t\t\t\t\t\t<Form.Label>Email</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tvalue={formState.email}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId='Login-password-input'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tvalue={formState.password}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId='Login-submit'>\r\n\t\t\t\t\t\t<Button className='bskr-btn-purple mr-3 mb-3' type='submit'>\r\n\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<p className=''>\r\n\t\t\t\t\t\t\tDon't have an account?{' '}\r\n\t\t\t\t\t\t\t<Link to='/signup'>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t<span className='signup-link-text'>Sign Up</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t{error ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className='text-danger'>Sorry, incorrect credentials</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Form>\r\n\t\t\t</main>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}