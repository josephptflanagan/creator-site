{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jflanagan.NIECE\\\\Desktop\\\\other\\\\creator-site\\\\client\\\\src\\\\pages\\\\Signup\\\\Signup.js\";\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport Auth from '../../utils/auth';\nimport { ADD_USER } from '../../utils/mutations';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport './Signup.css';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async e => {\n    e.preventDefault(); // handle signup auth\n\n    try {\n      const mutationResponse = await addUser({\n        variables: {\n          username: formState.username,\n          email: formState.email,\n          password: formState.password\n        }\n      });\n      const token = mutationResponse.data.addUser.token;\n      const userId = mutationResponse.data.addUser.user._id;\n      Auth.login(userId, token);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"Signup vh-100 d-flex flex-column align-items-center mt-5 pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \"Signup\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"signup-form d-flex flex-column\",\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Signup-username-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n    name: \"username\",\n    value: formState.username,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Signup-email-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    name: \"email\",\n    value: formState.email,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"Signup-password-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    required: true,\n    value: formState.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"bskr-btn-purple signup-btn align-self-center\",\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, \"Sign Up\")), error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-2 text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"Oops, try again...a user already exists with that email\")) : null));\n};\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/jflanagan.NIECE/Desktop/other/creator-site/client/src/pages/Signup/Signup.js"],"names":["React","useState","useMutation","Auth","ADD_USER","Form","Button","Signup","formState","setFormState","username","email","password","addUser","error","handleFormSubmit","e","preventDefault","mutationResponse","variables","token","data","userId","user","_id","login","err","console","log","handleChange","event","name","value","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useMutation } from '@apollo/react-hooks'\r\n\r\nimport Auth from '../../utils/auth'\r\nimport { ADD_USER } from '../../utils/mutations'\r\n\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport './Signup.css'\r\n\r\nconst Signup = () => {\r\n\tconst [ formState, setFormState ] = useState({ username: '', email: '', password: '' })\r\n\tconst [ addUser, { error } ] = useMutation(ADD_USER)\r\n\r\n\tconst handleFormSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\t// handle signup auth\r\n\t\ttry {\r\n\t\t\tconst mutationResponse = await addUser({\r\n\t\t\t\tvariables : {\r\n\t\t\t\t\tusername : formState.username,\r\n\t\t\t\t\temail    : formState.email,\r\n\t\t\t\t\tpassword : formState.password\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tconst token = mutationResponse.data.addUser.token\r\n\t\t\tconst userId = mutationResponse.data.addUser.user._id\r\n\t\t\tAuth.login(userId, token)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst { name, value } = event.target\r\n\t\tsetFormState({\r\n\t\t\t...formState,\r\n\t\t\t[name] : value\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<main className='Signup vh-100 d-flex flex-column align-items-center mt-5 pt-5'>\r\n\t\t\t\t<h3 className='mb-5'>Signup</h3>\r\n\t\t\t\t<Form className='signup-form d-flex flex-column' onSubmit={handleFormSubmit}>\r\n\t\t\t\t\t<Form.Group controlId='Signup-username-input'>\r\n\t\t\t\t\t\t<Form.Label>Username</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\tvalue={formState.username}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId='Signup-email-input'>\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={formState.email}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId='Signup-password-input'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={formState.password}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='bskr-btn-purple signup-btn align-self-center'\r\n\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t{error ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className='mt-2 text-danger'>\r\n\t\t\t\t\t\t\tOops, try again...a user already exists with that email\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</main>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}